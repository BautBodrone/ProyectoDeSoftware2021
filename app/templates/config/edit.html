{% extends "layout.html" %}
{% block title %}Configuration{% endblock %}
{% block head %}
  {{ super() }}
{% endblock %}
{% block header %}
  <div>
    {{ super() }}
    <h1 id="header">Configuracion</h1>
  </div>
{% endblock %}
{% block navbar %}
{% if is_authenticated(session) %}
  <a href="{{ url_for('puntos_index') }}" class="navbar">Puntos de Encuentro</a>
  <a href="{{ url_for('configuration_edit') }}" class="navbar selected">Configuracion</a>
  {% if my_user(is_authenticated(session)).check_permiso(is_authenticated(session),'user_index') %}  
    <a href="{{ url_for('rol_index') }}" class="navbar">Roles</a>
    <a href="{{ url_for('user_index') }}" class="navbar">Usuarios</a>
    {% endif %}
    <a href="{{ url_for('auth_logout') }}" class="navbar">Cerrar sesión</a>
{% else %}
  <a href="{{ url_for('auth_login') }}" class="navbar">Iniciar sesión</a>
{% endif %}
{% endblock %}
{% block content %}
  <p>Página de configuracion de la aplicación</p>
  {% if is_authenticated(session) %}
  <form action="{{ url_for('configuration_update') }}" method="POST">
    <p>
      <label for="rows_per_page">Filas por página</label>
      <input id="rows_per_page" type="number" name="rows_per_page" placeholder="{{ configurator().get_rows_per_page() }}" />
    </p>
    <p>
      <label>Criterio de orden</label>
        <select name='order'>
          <option value='prioridad'>Prioridad</option>
          <option value='cercania' selected>Cercanía</option>
          <option value='a..z'>A..Z</option>
          <option value='z..a'>Z..A</option>
        </select>
    </p>
    <p>
      <p>Paleta aplicación privada:</p>
      <label for="private_bg_color" class="dropbtn">Fondo</label>
      <input type="color" id="private_bg_color" name="private_bg_color" value="{{ configurator().get_private_bg_color() }}" />
      <label for="private_bg_color" class="dropbtn">  Acentos</label>
      <input type="color" id="private_accent_color" name="private_accent_color" value="{{ configurator().get_private_accent_color() }}" />
      <label for="private_bg_color" class="dropbtn">  Letras</label>
      <input type="color" id="private_leters_color" name="private_letters_color" value="{{ configurator().get_private_letters_color() }}" />
    </p>
    <p>
      <p>Paleta aplicación pública:</p>
      <label for="public_bg_color" class="dropbtn">Fondo</label>
      <input type="color" id="public_bg_color" name="public_bg_color" value="{{ configurator().get_public_bg_color() }}" />
      <label for="public_bg_color" class="dropbtn">   Acentos</label>
      <input type="color" id="public_accent_color" name="public_accent_color" value="{{ configurator().get_public_accent_color() }}" />
      <label for="public_bg_color" class="dropbtn">   Letras</label>
      <input type="color" id="public_leters_color" name="public_letters_color" value="{{ configurator().get_public_letters_color() }}" />
    </p>
    <button type="reset">Limpiar</button>
    <input type="submit" value="Guardar">
    <br>
  </form>    
  {% endif %}
  <a href="{{ url_for('home') }}" class="link">Volver</a>
{% endblock %}