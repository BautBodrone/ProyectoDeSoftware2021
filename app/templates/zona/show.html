{% extends "layout.html" %}
{% block title %}{{zona.nombre}}{% endblock %}
{% block head %}
  {{ super() }}
  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
  integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
  crossorigin=""></script>
  <script type="module" src="/static/js/map.js" ></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/0.4.2/leaflet.draw.css"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/0.4.2/leaflet.draw.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/css/bootstrap-select.css" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.13.1/js/bootstrap-select.min.js"></script>

{% endblock %}
{% block header %}
  <div>
    {{ super() }}
    <h1 id="header">{{zona.nombre}}</h1>
  </div>
{% endblock %}
{% block content %}
<div class="map-container">
    <input id="{{ zona }}" class="zonas" type="hidden" value="{{ zona.coordenadas }}" >
    <input id="{{ zona }}" class="zonas-colores" type="hidden" value="{{ zona.color }}" >
    <input id="{{ zona }}" class="zonas-nombre" type="hidden" value="{{ zona.nombre }}" >
    <div id="mapid" class="mapform" ></div>
    <script></script>
</div>
<div style="max-width: 30%"> 
<p>
    <label>Nombre: {{ zona.nombre }}<label>
</p>
<p>
    <div style="width:6rem;height:2rem;background-color:{{zona.color}};">{{ zona.color }}</div>
</p>
<p>
    <label for="estado">Estado: {{zona.estado}} </label>
</p>
<form action="{{  url_for('zona_edit', id = zona.id ) }}"  >
    {% if my_user(is_authenticated(session)).check_permiso(is_authenticated(session),'zona_edit') %}
    <button type="submit" class="btn btn-warning mt-2 ml-2">Editar</button>
    {% endif %}
  </form>
  {% if my_user(is_authenticated(session)).check_permiso(is_authenticated(session),'zona_delete') %}
  <form action="{{ url_for('zona_delete') }}" method="POST" enctype="multipart/form-data">
    <input type="hidden" id="zona_id" name="zona_id" value="{{zona.id}}">
    <button onclick="return confirm('Â¿Esta seguro de que desea eliminar este zona?');" class="btn btn-danger mt-2 ml-2">Eliminar</a>
  </form>
  {% endif %}
</div>
<br>
<a href="{{ url_for('zona_index') }}" class="link">Volver</a>
{% endblock %}